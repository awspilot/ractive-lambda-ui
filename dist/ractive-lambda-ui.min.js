!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("ractive")):"function"==typeof define&&define.amd?define("ractive-lambda-ui",["ractive"],e):"object"==typeof exports?exports["ractive-lambda-ui"]=e(require("ractive")):t["ractive-lambda-ui"]=e(t.Ractive)}(window,function(n){return(r={},i.m=o=[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(n(1)),i=a(n(2)),r=a(n(3));function a(t){return t&&t.__esModule?t:{default:t}}e.default=o.default.extend({template:{v:4,t:[{t:7,e:"hsplit",m:[{t:13,n:"style",f:";",g:1},{t:13,n:"class",f:"ractive-lambda-ui",g:1}],f:[{t:7,e:"left",m:[{t:13,n:"style",f:"border-right: 1px solid #b9b8b6;background-color: #fff;",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"display: block;font-size: 12px;padding-left: 10px;font-size: 18px;font-weight: 700;color: #000;line-height: 2rem;padding: 12px 35px;border-bottom: 1px solid #ddd;",g:1}],f:["AWS Lambda"]}," ",{t:7,e:"div",m:[{t:13,n:"style",f:"position: absolute;bottom: 0px;top: 60px;left: 0px;right: 0px;",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #000;",g:1}],f:["Dashboard"]}," ",{t:7,e:"div",m:[{t:13,n:"style",f:"display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #000;",g:1}],f:["Applications"]}," ",{t:7,e:"div",m:[{t:13,n:"style",f:"display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #ec7211;font-weight: bold;",g:1}],f:["Functions"]}," ",{t:7,e:"div",m:[{t:13,n:"style",f:"display: block;height: 30px;line-height: 30px;font-size: 13px;padding: 0px 35px;border-top: 1px solid transparent;border-left: 1px solid transparent;margin-bottom: 0px;color: #000;",g:1}],f:["Layers"]}]}]}," ",{t:7,e:"content",m:[{t:13,n:"style",f:"background-color: transparent;border: 0px;overflow-x: auto;",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"height: 30px;margin-left: 10px;line-height: 30px;font-size: 15px;",g:1}],f:[{t:7,e:"a",m:[{t:13,n:"style",f:"cursor: pointer;text-decoration: none;",g:1}],f:["Lambda"]}," > ",{t:7,e:"a",m:[{t:13,n:"style",f:"cursor: pointer;text-decoration: none;color: #999;",g:1}],f:["Functions"]}]}," ",{t:7,e:"div",m:[{t:13,n:"style",f:"position: absolute;top: 40px;left: 10px;right: 10px;bottom: 10px;",g:1}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"style",f:["position: absolute;top: 0px;left: 0px;width: ",{t:4,f:["260px; "],n:50,x:{r:["active_id"],s:'_0==="stackdetails"'}},{t:4,f:["100%;"],n:51,l:1},"; box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color: #fff"],t:13}],f:[{t:7,e:"functionlist"}]}],n:50,x:{r:["tab"],s:'_0==="list"'}}," ",{t:4,f:[{t:7,e:"functioncreate"}],n:50,x:{r:["tab"],s:'_0==="create"'}}]}]}]}],e:{'_0==="stackdetails"':function(t){return"stackdetails"===t},'_0==="list"':function(t){return"list"===t},'_0==="create"':function(t){return"create"===t}}},components:{functionlist:i.default,functioncreate:r.default},css:".hsplit {position: absolute;top:0px;left: 0px;right: 0px;bottom: 0px; /*background-color: #f0f0f0;*/background-color: #f2f3f3; color: #999999;} left {position:absolute;display: block;top: 0px;left: 0px;width: 260px;bottom: 0px;background-color: #fff;} content {position:absolute;display: block;top: 0px;left: 265px;right: 0px;bottom: 0px;margin-top: 5px;} content tabcontent {position: absolute;top: 28px;left: 0px;right: 0px;bottom: 0px;} .ractive-lambda-ui {font-family: sans-serif;} .ractive-lambda-ui * {box-sizing: border-box } ",data:function(){return{tab:"list"}},create_function:function(){this.set({tab:"create"})},gotolist:function(){this.set({tab:"list"})},on:{init:function(){lambda=new AWS.Lambda({endpoint:this.get("endpoint")||void 0,region:this.get("region"),credentials:{accessKeyId:this.get("accessKeyId"),secretAccessKey:this.get("secretAccessKey")}}),iam=new AWS.IAM({endpoint:this.get("endpoint")||void 0,region:this.get("region"),credentials:{accessKeyId:this.get("accessKeyId"),secretAccessKey:this.get("secretAccessKey")}})}}})},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'\n\n\t\t<div style="height: 50px;padding: 10px 10px 0px 0px;background-color: #fafafa;;">\n\n\t\t\t<div style="float: right;">\n\t\t\t\t<a class="btn btn-sm btn-default" on-click="refresh"><i class="icon zmdi zmdi-refresh"></i></a>\n\t\t\t\t<a class="btn btn-sm btn-default {{#if selection}}{{else}}disabled{{/if}}" {{#if selection}}on-click=\'delete\'{{/if}}> Delete </a>\n\t\t\t\t<a class="btn btn-sm btn-warning" on-click="createfunction"> Create function </a>\n\t\t\t</div>\n\t\t</div>\n\n\n\t\t<table style="border-collapse: collapse;border-spacing: 0; empty-cells: show; border: 1px solid #eaeded;width: 100%;">\n\t\t\t<thead style="background-color: #fafafa;color: #000;text-align: left;vertical-align: bottom;border-bottom: 1px solid #eaeded">\n\t\t\t\t<tr>\n\t\t\t\t\t<th style="padding: 0.5em 1em;"></th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Function name</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Description</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Runtime</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Code size</th>\n\t\t\t\t\t<th style="padding: 0.5em 1em;">Last modified</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{{#functions}}\n\n\t\t\t\t<tr style="{{#if selection === .FunctionName }}background-color: #f1faff;{{/if}}">\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"><input type="radio" name={{selection}} value=\'{{.FunctionName}}\'></td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"><a style="cursor: pointer;" on-click="gotostack">{{.FunctionName}}</a></td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;"></td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.Runtime}}</td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.CodeSize}}</td>\n\t\t\t\t\t<td style="padding: 0.5em 1em;border-width: 0 0 1px 0;border-bottom: 1px solid #eaeded;">{{.LastModified}}</td>\n\t\t\t\t</tr>\n\t\t\t\t{{/functions}}\n\n\t\t\t</tbody>\n\t\t</table>\n\n\n\t',load_functions:function(){var n=this;n.set("functions",[]),lambda.listFunctions({},function(t,e){if(t)return alert("failed getting functions list");n.set("functions",e.Functions),console.log(e.Functions)})},data:function(){return{selection:""}},on:{init:function(){this.load_functions()},refresh:function(){this.load_functions()},delete:function(){var n=this;if(console.log("delete",this.get("selection")),confirm("Are you sure you want to delete "+this.get("selection"))){var t={FunctionName:this.get("selection")};lambda.deleteFunction(t,function(t,e){t&&alert("Delete failed"),n.load_functions()})}},createfunction:function(){this.parent.create_function()}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Ractive.extend({template:'\n\t\t<h2>Create function</h2>\n\n\t\t<div style="box-shadow: 0 1px 1px 0 rgba(0,28,36,.5);border-top: 1px solid #eaeded;background-color: #fff">\n\n\t\t\t<div style="height: 50px;padding: 0px 10px;background-color: #fafafa;font-size: 24px;font-weight: bold;line-height: 50px;;">\n\t\t\t\tBasic information\n\t\t\t</div>\n\n\t\t\t<div style="padding: 10px;">\n\t\t\t\t<div>Function name</div>\n\t\t\t\t<div>Enter a name that describes the purpose of your function.</div>\n\t\t\t\t<div>\n\t\t\t\t\t<input value={{function_name}} placeholder="myFunctionName" style="width: 50%;" />\n\t\t\t\t</div>\n\n\n\t\t\t\t<div>Runtime</div>\n\t\t\t\t<div>Choose the language to use to write your function.</div>\n\t\t\t\t<div>\n\t\t\t\t\t<select value={{runtime}} style="width: 50%;" >\n\t\t\t\t\t\t<option value="nodejs10.x">NodeJS 10.x</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div>Permissions</div>\n\t\t\t\t<div>Choose a role that defines the permissions of your function.</div>\n\t\t\t\t<div>\n\t\t\t\t\t<select value={{role}} style="width: 50%;" >\n\t\t\t\t\t\t{{#if !roles}}\n\t\t\t\t\t\t\t<option>Loading...</option>\n\t\t\t\t\t\t{{/if}}\n\t\t\t\t\t\t{{#roles}}\n\t\t\t\t\t\t\t<option value={{.Arn}}>{{.RoleName}}</option>\n\t\t\t\t\t\t{{/roles}}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div style="text-align: right;padding: 10px 0px;">\n\t\t\t\t<a class="btn btn-sm" on-click="cancel"> Cancel </a>\n\t\t\t\t<a class="btn btn-sm btn-warning" on-click="createfunction"> Create function </a>\n\t\t</div>\n\t',get_roles:function(){var o=this;iam.listRoles({},function(t,e){if(t)return alert("failed listing roles");var n=e.Roles.map(function(e){try{e.policy=JSON.parse(decodeURIComponent(e.AssumeRolePolicyDocument))}catch(t){e.policy={}}return e}).filter(function(t){return"lambda.amazonaws.com"===((((t.policy||{}).Statement||[])[0]||{}).Principal||{}).Service});o.set("roles",n),console.log("roles=",n)})},data:function(){return{function_name:"",runtime:"nodejs10.x",role:null,timeout:3,memory:128}},on:{init:function(){this.get_roles()},cancel:function(){this.parent.gotolist()},createfunction:function(){}}})}],i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)).default;function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var o,r});